(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2426:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>_});var l=t(5155),s=t(2115),n=t(2929),c=t.n(n);function i(){let[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[i,_]=(0,s.useState)(null),[o,r]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[m,b]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[x,j]=(0,s.useState)(""),[N,g]=(0,s.useState)(1),[y,v]=(0,s.useState)(null),[f,w]=(0,s.useState)({name:200,age:100,gender:100,phone:160,email:220,country:140,city:140});if((0,s.useEffect)(()=>{fetch("https://dummyjson.com/users").then(e=>{if(!e.ok)throw Error("Ошибка при загрузке данных");return e.json()}).then(e=>a(e.users)).catch(e=>_(e.message)).finally(()=>n(!1))},[]),t)return(0,l.jsx)("p",{children:"Загрузка..."});if(i)return(0,l.jsx)("p",{style:{color:"red"},children:i});let k=[...e];""!==m.trim()&&(k=k.filter(e=>"".concat(e.lastName," ").concat(e.firstName," ").concat(e.maidenName).toLowerCase().includes(m.toLowerCase()))),u&&(k=k.filter(e=>e.gender===u)),""!==x.trim()&&(k=k.filter(e=>e.address.city.toLowerCase().includes(x.toLowerCase())));let C=[...k];o&&d&&C.sort((e,a)=>{let t,l;switch(o){case"name":t="".concat(e.lastName," ").concat(e.firstName," ").concat(e.maidenName),l="".concat(a.lastName," ").concat(a.firstName," ").concat(a.maidenName);break;case"age":t=e.age,l=a.age;break;case"gender":t=e.gender,l=a.gender;break;case"phone":t=e.phone,l=a.phone;break;default:return 0}return"string"==typeof t&&"string"==typeof l?"asc"===d?t.localeCompare(l,"ru",{sensitivity:"base"}):l.localeCompare(t,"ru",{sensitivity:"base"}):"asc"===d?t-l:l-t});let T=e=>{o!==e?(r(e),h("asc")):"asc"===d?h("desc"):(r(null),h(null))},L=(N-1)*15,M=C.slice(L,L+15);console.log(M);let E=(e,a)=>{e.preventDefault();let t=e.clientX,l=f[a],s=e=>{let s=Math.min(Math.max(80,l+(e.clientX-t)),300);w(e=>({...e,[a]:s}))},n=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",n)};return(0,l.jsxs)("div",{className:c().table__wrapper,children:[(0,l.jsx)("h1",{className:c().table__title,children:"Список пользователей"}),(0,l.jsxs)("div",{className:c().table__filters,children:[(0,l.jsx)("input",{className:c()["table__filters-input"],type:"text",placeholder:"Поиск по ФИО",value:m,onChange:e=>b(e.target.value)}),(0,l.jsxs)("select",{className:c()["table__filters-select"],value:u,onChange:e=>p(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Пол (все)"}),(0,l.jsx)("option",{value:"male",children:"Мужской"}),(0,l.jsx)("option",{value:"female",children:"Женский"})]}),(0,l.jsx)("input",{className:c()["table__filters-input"],type:"text",placeholder:"Поиск по городу",value:x,onChange:e=>j(e.target.value)})]}),(0,l.jsxs)("table",{className:c().table,border:"1",cellPadding:"8",cellSpacing:"0",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.name,"px")},children:[(0,l.jsxs)("div",{className:c()["table__th-content"],onClick:()=>T("name"),style:{cursor:"pointer"},children:["ФИО ","name"===o?"asc"===d?"↑":"desc"===d?"↓":"":""]}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"name")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.age,"px")},children:[(0,l.jsxs)("div",{className:c()["table__th-content"],onClick:()=>T("age"),style:{cursor:"pointer"},children:["Возраст ","age"===o?"asc"===d?"↑":"desc"===d?"↓":"":""]}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"age")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.gender,"px")},children:[(0,l.jsxs)("div",{className:c()["table__th-content"],onClick:()=>T("gender"),style:{cursor:"pointer"},children:["Пол ","gender"===o?"asc"===d?"↑":"desc"===d?"↓":"":""]}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"gender")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.phone,"px")},children:[(0,l.jsxs)("div",{className:c()["table__th-content"],onClick:()=>T("phone"),style:{cursor:"pointer"},children:["Телефон ","phone"===o?"asc"===d?"↑":"desc"===d?"↓":"":""]}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"phone")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.email,"px")},children:[(0,l.jsx)("div",{className:c()["table__th-content"],onClick:()=>T("email"),style:{cursor:"pointer"},children:"Email"}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"email")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.country,"px")},children:[(0,l.jsx)("div",{className:c()["table__th-content"],onClick:()=>T("country"),style:{cursor:"pointer"},children:"Страна"}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"country")})]}),(0,l.jsxs)("th",{className:c().table__th,style:{width:"".concat(f.city,"px")},children:[(0,l.jsx)("div",{className:c()["table__th-content"],onClick:()=>T("city"),style:{cursor:"pointer"},children:"Город"}),(0,l.jsx)("div",{className:c()["table__th-resizer"],onMouseDown:e=>E(e,"city")})]})]})}),(0,l.jsx)("tbody",{children:M.map(e=>(0,l.jsxs)("tr",{onClick:()=>v(e),style:{cursor:"pointer"},children:[(0,l.jsx)("td",{className:c().table__td,style:{width:f.name},children:"".concat(e.firstName," ").concat(e.lastName," ").concat(e.maidenName)}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.age},children:e.age}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.gender},children:"male"===e.gender?"муж.":"жен."}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.phone},children:e.phone}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.email},children:e.email}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.country},children:e.address.country}),(0,l.jsx)("td",{className:c().table__td,style:{width:f.city},children:e.address.city})]},e.id))})]}),y&&(0,l.jsx)("div",{className:c()["table__modal-backdrop"],onClick:()=>v(null),children:(0,l.jsxs)("div",{className:c().table__modal,onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{className:c()["table__modal-close"],onClick:()=>v(null),children:"\xd7"}),(0,l.jsx)("img",{className:c()["table__modal-avatar"],src:y.image,alt:"avatar"}),(0,l.jsx)("h2",{className:c()["table__modal-name"],children:"".concat(y.firstName," ").concat(y.lastName," ").concat(y.maidenName)}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Возраст: "}),y.age]}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Рост: "}),y.height," см"]}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Вес: "}),y.weight," кг"]}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Телефон: "}),y.phone]}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Email: "}),y.email]}),(0,l.jsxs)("p",{className:c()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Адрес: "}),"".concat(y.address.country,", ").concat(y.address.city,", ").concat(y.address.address)]})]})}),(0,l.jsxs)("div",{className:c().table__pagination,children:[(0,l.jsx)("button",{className:c()["table__pagination-button"],onClick:()=>g(e=>Math.max(e-1,1)),disabled:1===N,children:"←"}),(0,l.jsxs)("span",{className:c()["table__pagination-label"],children:["Страница ",N]}),(0,l.jsx)("button",{className:c()["table__pagination-button"],onClick:()=>g(e=>e<Math.ceil(C.length/15)?e+1:e),disabled:N===Math.ceil(C.length/15),children:"→"})]})]})}function _(){return(0,l.jsx)("div",{className:"page__content",children:(0,l.jsx)(i,{})})}t(9324)},2929:e=>{e.exports={table__wrapper:"Table_table__wrapper__Etjrj",table__title:"Table_table__title__C2ex5","table__filters-input":"Table_table__filters-input___D5yq","table__filters-select":"Table_table__filters-select__LlFT3",table:"Table_table__h4X8Z",table__th:"Table_table__th__k8e6O","table__th-content":"Table_table__th-content__dLZc_","table__th-resizer":"Table_table__th-resizer__3a92P",table__td:"Table_table__td__M89o1",table__pagination:"Table_table__pagination__JhI0q","table__pagination-button":"Table_table__pagination-button__ITlFr","table__pagination-label":"Table_table__pagination-label__uLLq2","table__modal-backdrop":"Table_table__modal-backdrop__c0VAM",table__modal:"Table_table__modal__V32lW","table__modal-avatar":"Table_table__modal-avatar__LCTIL","table__modal-close":"Table_table__modal-close__ceuE3","table__modal-name":"Table_table__modal-name___f9QQ","table__modal-info":"Table_table__modal-info__m14Ax"}},6681:(e,a,t)=>{Promise.resolve().then(t.bind(t,2426))},9324:()=>{}},e=>{e.O(0,[154,441,964,358],()=>e(e.s=6681)),_N_E=e.O()}]);