(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1393:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let l=a(4232),n=l.useLayoutEffect,s=l.useEffect;function c(e){let{headManager:t,reduceComponentsToState:a}=e;function c(){if(t&&t.mountedInstances){let n=l.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(a(n,e))}}return n(()=>{var a;return null==t||null==(a=t.mountedInstances)||a.add(e.children),()=>{var a;null==t||null==(a=t.mountedInstances)||a.delete(e.children)}}),n(()=>(t&&(t._pendingUpdate=c),()=>{t&&(t._pendingUpdate=c)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},1599:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(7876),n=a(7328),s=a.n(n),c=a(4232),r=a(3720),i=a.n(r);function o(){let[e,t]=(0,c.useState)([]),[a,n]=(0,c.useState)(!0),[s,r]=(0,c.useState)(null),[o,d]=(0,c.useState)(null),[_,u]=(0,c.useState)(null),[m,h]=(0,c.useState)(""),[b,p]=(0,c.useState)(""),[f,x]=(0,c.useState)(""),[j,y]=(0,c.useState)(1),[g,N]=(0,c.useState)(null),[v,w]=(0,c.useState)({name:200,age:100,gender:100,phone:160,email:220,country:140,city:140});if((0,c.useEffect)(()=>{fetch("https://dummyjson.com/users").then(e=>{if(!e.ok)throw Error("Ошибка при загрузке данных");return e.json()}).then(e=>t(e.users)).catch(e=>r(e.message)).finally(()=>n(!1))},[]),a)return(0,l.jsx)("p",{children:"Загрузка..."});if(s)return(0,l.jsx)("p",{style:{color:"red"},children:s});let C=[...e];""!==m.trim()&&(C=C.filter(e=>"".concat(e.lastName," ").concat(e.firstName," ").concat(e.maidenName).toLowerCase().includes(m.toLowerCase()))),b&&(C=C.filter(e=>e.gender===b)),""!==f.trim()&&(C=C.filter(e=>e.address.city.toLowerCase().includes(f.toLowerCase())));let k=[...C];o&&_&&k.sort((e,t)=>{let a,l;switch(o){case"name":a="".concat(e.lastName," ").concat(e.firstName," ").concat(e.maidenName),l="".concat(t.lastName," ").concat(t.firstName," ").concat(t.maidenName);break;case"age":a=e.age,l=t.age;break;case"gender":a=e.gender,l=t.gender;break;case"phone":a=e.phone,l=t.phone;break;default:return 0}return"string"==typeof a&&"string"==typeof l?"asc"===_?a.localeCompare(l,"ru",{sensitivity:"base"}):l.localeCompare(a,"ru",{sensitivity:"base"}):"asc"===_?a-l:l-a});let M=e=>{o!==e?(d(e),u("asc")):"asc"===_?u("desc"):(d(null),u(null))},T=(j-1)*15,S=k.slice(T,T+15);console.log(S);let E=(e,t)=>{e.preventDefault();let a=e.clientX,l=v[t],n=e=>{let n=Math.min(Math.max(80,l+(e.clientX-a)),300);w(e=>({...e,[t]:n}))},s=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)};return(0,l.jsxs)("div",{className:i().table__wrapper,children:[(0,l.jsx)("h1",{className:i().table__title,children:"Список пользователей"}),(0,l.jsxs)("div",{className:i().table__filters,children:[(0,l.jsx)("input",{className:i()["table__filters-input"],type:"text",placeholder:"Поиск по ФИО",value:m,onChange:e=>h(e.target.value)}),(0,l.jsxs)("select",{className:i()["table__filters-select"],value:b,onChange:e=>p(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Пол (все)"}),(0,l.jsx)("option",{value:"male",children:"Мужской"}),(0,l.jsx)("option",{value:"female",children:"Женский"})]}),(0,l.jsx)("input",{className:i()["table__filters-input"],type:"text",placeholder:"Поиск по городу",value:f,onChange:e=>x(e.target.value)})]}),(0,l.jsxs)("table",{className:i().table,border:"1",cellPadding:"8",cellSpacing:"0",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.name,"px")},children:[(0,l.jsxs)("div",{className:i()["table__th-content"],onClick:()=>M("name"),style:{cursor:"pointer"},children:["ФИО ","name"===o?"asc"===_?"↑":"desc"===_?"↓":"":""]}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"name")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.age,"px")},children:[(0,l.jsxs)("div",{className:i()["table__th-content"],onClick:()=>M("age"),style:{cursor:"pointer"},children:["Возраст ","age"===o?"asc"===_?"↑":"desc"===_?"↓":"":""]}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"age")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.gender,"px")},children:[(0,l.jsxs)("div",{className:i()["table__th-content"],onClick:()=>M("gender"),style:{cursor:"pointer"},children:["Пол ","gender"===o?"asc"===_?"↑":"desc"===_?"↓":"":""]}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"gender")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.phone,"px")},children:[(0,l.jsxs)("div",{className:i()["table__th-content"],onClick:()=>M("phone"),style:{cursor:"pointer"},children:["Телефон ","phone"===o?"asc"===_?"↑":"desc"===_?"↓":"":""]}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"phone")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.email,"px")},children:[(0,l.jsx)("div",{className:i()["table__th-content"],onClick:()=>M("email"),style:{cursor:"pointer"},children:"Email"}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"email")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.country,"px")},children:[(0,l.jsx)("div",{className:i()["table__th-content"],onClick:()=>M("country"),style:{cursor:"pointer"},children:"Страна"}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"country")})]}),(0,l.jsxs)("th",{className:i().table__th,style:{width:"".concat(v.city,"px")},children:[(0,l.jsx)("div",{className:i()["table__th-content"],onClick:()=>M("city"),style:{cursor:"pointer"},children:"Город"}),(0,l.jsx)("div",{className:i()["table__th-resizer"],onMouseDown:e=>E(e,"city")})]})]})}),(0,l.jsx)("tbody",{children:S.map(e=>(0,l.jsxs)("tr",{onClick:()=>N(e),style:{cursor:"pointer"},children:[(0,l.jsx)("td",{className:i().table__td,style:{width:v.name},children:"".concat(e.firstName," ").concat(e.lastName," ").concat(e.maidenName)}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.age},children:e.age}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.gender},children:"male"===e.gender?"муж.":"жен."}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.phone},children:e.phone}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.email},children:e.email}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.country},children:e.address.country}),(0,l.jsx)("td",{className:i().table__td,style:{width:v.city},children:e.address.city})]},e.id))})]}),g&&(0,l.jsx)("div",{className:i()["table__modal-backdrop"],onClick:()=>N(null),children:(0,l.jsxs)("div",{className:i().table__modal,onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{className:i()["table__modal-close"],onClick:()=>N(null),children:"\xd7"}),(0,l.jsx)("img",{className:i()["table__modal-avatar"],src:g.image,alt:"avatar"}),(0,l.jsx)("h2",{className:i()["table__modal-name"],children:"".concat(g.firstName," ").concat(g.lastName," ").concat(g.maidenName)}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Возраст: "}),g.age]}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Рост: "}),g.height," см"]}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Вес: "}),g.weight," кг"]}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Телефон: "}),g.phone]}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Email: "}),g.email]}),(0,l.jsxs)("p",{className:i()["table__modal-info"],children:[(0,l.jsx)("b",{children:"Адрес: "}),"".concat(g.address.country,", ").concat(g.address.city,", ").concat(g.address.address)]})]})}),(0,l.jsxs)("div",{className:i().table__pagination,children:[(0,l.jsx)("button",{className:i()["table__pagination-button"],onClick:()=>y(e=>Math.max(e-1,1)),disabled:1===j,children:"←"}),(0,l.jsxs)("span",{className:i()["table__pagination-label"],children:["Страница ",j]}),(0,l.jsx)("button",{className:i()["table__pagination-button"],onClick:()=>y(e=>e<Math.ceil(k.length/15)?e+1:e),disabled:j===Math.ceil(k.length/15),children:"→"})]})]})}function d(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:"Список пользователей"}),(0,l.jsx)("meta",{name:"description",content:"Тестовое задание с таблицей пользователей"})]}),(0,l.jsx)("div",{className:"page__content",children:(0,l.jsx)(o,{})})]})}},2898:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1599)}])},3720:e=>{e.exports={table__wrapper:"Table_table__wrapper__Etjrj",table__title:"Table_table__title__C2ex5","table__filters-input":"Table_table__filters-input___D5yq","table__filters-select":"Table_table__filters-select__LlFT3",table:"Table_table__h4X8Z",table__th:"Table_table__th__k8e6O","table__th-content":"Table_table__th-content__dLZc_","table__th-resizer":"Table_table__th-resizer__3a92P",table__td:"Table_table__td__M89o1",table__pagination:"Table_table__pagination__JhI0q","table__pagination-button":"Table_table__pagination-button__ITlFr","table__pagination-label":"Table_table__pagination-label__uLLq2","table__modal-backdrop":"Table_table__modal-backdrop__c0VAM",table__modal:"Table_table__modal__V32lW","table__modal-avatar":"Table_table__modal-avatar__LCTIL","table__modal-close":"Table_table__modal-close__ceuE3","table__modal-name":"Table_table__modal-name___f9QQ","table__modal-info":"Table_table__modal-info__m14Ax"}},5648:(e,t)=>{"use strict";function a(e){let{ampFirst:t=!1,hybrid:a=!1,hasQuery:l=!1}=void 0===e?{}:e;return t||a&&l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return a}})},7328:(e,t,a)=>{e.exports=a(9836)},9836:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return b},defaultHead:function(){return _}});let l=a(4252),n=a(8365),s=a(7876),c=n._(a(4232)),r=l._(a(1393)),i=a(9896),o=a(6834),d=a(5648);function _(e){void 0===e&&(e=!1);let t=[(0,s.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,s.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function u(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===c.default.Fragment?e.concat(c.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}a(546);let m=["name","httpEquiv","charSet","itemProp"];function h(e,t){let{inAmpMode:a}=t;return e.reduce(u,[]).reverse().concat(_(a).reverse()).filter(function(){let e=new Set,t=new Set,a=new Set,l={};return n=>{let s=!0,c=!1;if(n.key&&"number"!=typeof n.key&&n.key.indexOf("$")>0){c=!0;let t=n.key.slice(n.key.indexOf("$")+1);e.has(t)?s=!1:e.add(t)}switch(n.type){case"title":case"base":t.has(n.type)?s=!1:t.add(n.type);break;case"meta":for(let e=0,t=m.length;e<t;e++){let t=m[e];if(n.props.hasOwnProperty(t))if("charSet"===t)a.has(t)?s=!1:a.add(t);else{let e=n.props[t],a=l[t]||new Set;("name"!==t||!c)&&a.has(e)?s=!1:(a.add(e),l[t]=a)}}}return s}}()).reverse().map((e,t)=>{let a=e.key||t;return c.default.cloneElement(e,{key:a})})}let b=function(e){let{children:t}=e,a=(0,c.useContext)(i.AmpStateContext),l=(0,c.useContext)(o.HeadManagerContext);return(0,s.jsx)(r.default,{reduceComponentsToState:h,headManager:l,inAmpMode:(0,d.isInAmpMode)(a),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9896:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return l}});let l=a(4252)._(a(4232)).default.createContext({})}},e=>{e.O(0,[636,593,792],()=>e(e.s=2898)),_N_E=e.O()}]);